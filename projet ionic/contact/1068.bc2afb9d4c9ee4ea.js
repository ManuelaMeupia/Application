"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1068],{1068:(g,l,e)=>{e.r(l),e.d(l,{ImportPage:()=>f});var d=e(177),h=e(4341),u=e(1626),t=e(3953),m=e(8986);function _(o,a){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s()()),2&o){const s=a.$implicit;t.R7$(2),t.JRh(s.contact_name),t.R7$(2),t.JRh(s.contact_number)}}let f=(()=>{var o;class a{constructor(n,r){this.http=n,this.route=r,this.id=null,this.contacts=[]}ngOnInit(){this.route.queryParams.subscribe(n=>{this.id=n.id,this.id&&this.fetchContacts()})}fetchContacts(){this.http.get(`http://localhost/api/import.php?id=${this.id}`).subscribe(n=>{n.success?this.contacts=n.data:console.error("API error:",n.message)},n=>{console.error("Error fetching contacts:",n)})}exportToCSV(){if(0===this.contacts.length)return void console.warn("No contacts to export.");const n=[];n.push(["Contact Name","Contact Number"].join(","));for(const i of this.contacts)n.push([i.contact_name,i.contact_number].join(","));const r=n.join("\n"),p=new Blob([r],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");if(void 0!==c.download){const i=URL.createObjectURL(p);c.setAttribute("href",i),c.setAttribute("download","contacts.csv"),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}}return(o=a).\u0275fac=function(n){return new(n||o)(t.rXU(u.Qq),t.rXU(m.nX))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-import"]],standalone:!0,features:[t.aNF],decls:20,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"click"],["behavior","","direction","left"]],template:function(n,r){1&n&&(t.j41(0,"html")(1,"head")(2,"title"),t.EFF(3,"Import Page"),t.k0s()(),t.j41(4,"body")(5,"h1"),t.EFF(6,"Contacts"),t.k0s(),t.j41(7,"table")(8,"thead")(9,"tr")(10,"th"),t.EFF(11,"Contact Name"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Contact Number"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,_,5,2,"tr",0),t.k0s()(),t.j41(16,"button",1),t.bIt("click",function(){return r.exportToCSV()}),t.EFF(17,"Export to CSV"),t.k0s()(),t.j41(18,"marquee",2),t.EFF(19,"Ici sont afficher les contacts des personnes eyant importer le votre finaliser l'action et visualiser les statut qui vous interesse"),t.k0s()()),2&n&&(t.R7$(15),t.Y8G("ngForOf",r.contacts))},dependencies:[d.MD,d.Sq,h.YN,u.q1],styles:["table[_ngcontent-%COMP%] {\n      width: 100%;\n      border-collapse: collapse;\n    }\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n      border: 1px solid #ddd;\n      padding: 8px;\n    }\n    th[_ngcontent-%COMP%] {\n      background-color: #f4f4f4;\n    }\n    button[_ngcontent-%COMP%] {\n      margin-top: 20px;\n      padding: 10px 15px;\n      background-color: #007bff;\n      color: white;\n      border: none;\n      border-radius: 5px;\n      cursor: pointer;\n    }\n    button[_ngcontent-%COMP%]:hover {\n      background-color: #0056b3;\n    }"]}),a})()}}]);