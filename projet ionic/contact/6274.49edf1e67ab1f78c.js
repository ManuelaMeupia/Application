"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6274],{6274:(g,e,o)=>{o.r(e),o.d(e,{NotifsPage:()=>d});var t=o(3953),c=o(8986),f=o(1626);let d=(()=>{var a;class s{constructor(n,i){this.route=n,this.http=i,this.id=null,this.notifications=[]}ngOnInit(){this.route.queryParams.subscribe(n=>{this.id=n.id,this.id&&this.fetchNotifications()})}fetchNotifications(){this.http.get(`http://localhost/api/notifications.php?id=${this.id}`).subscribe(n=>{n.success?this.notifications=n.data:console.error("API error:",n.message)},n=>{console.error("Error fetching notifications:",n)})}markAsRead(n){this.http.post("http://localhost/api/update_notification.php",{id:n}).subscribe(i=>{i.success?this.notifications=this.notifications.filter(l=>l.id!==n):console.error("API error:",i.message)},i=>{console.error("Error marking notification as read:",i)})}}return(a=s).\u0275fac=function(n){return new(n||a)(t.rXU(c.nX),t.rXU(f.Qq))},a.\u0275cmp=t.VBU({type:a,selectors:[["app-notifs"]],standalone:!0,features:[t.aNF],decls:19,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"notification-container"],["id","unread-count"],["id","notification-list"]],template:function(n,i){1&n&&(t.j41(0,"html",0)(1,"head"),t.nrm(2,"meta",1)(3,"meta",2),t.j41(4,"title"),t.EFF(5,"Notifications"),t.k0s()(),t.j41(6,"body")(7,"header")(8,"h1"),t.EFF(9,"Notifications"),t.k0s()(),t.j41(10,"main")(11,"section",3)(12,"h2"),t.EFF(13,"Notifications non lues"),t.k0s(),t.j41(14,"p"),t.EFF(15,"Nombre de notifications non lues: "),t.j41(16,"span",4),t.EFF(17,"0"),t.k0s()(),t.nrm(18,"ul",5),t.k0s()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f4f4f4}header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}main[_ngcontent-%COMP%]{padding:20px}.notification-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;padding:20px;max-width:600px;margin:20px auto}.notification-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}#notification-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}#notification-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:4px;margin-bottom:10px;padding:15px;display:flex;justify-content:space-between;align-items:center}#notification-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}#notification-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer}#notification-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),s})()}}]);